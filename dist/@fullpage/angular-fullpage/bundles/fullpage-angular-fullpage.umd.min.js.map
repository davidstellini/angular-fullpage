{"version":3,"sources":["ng://@fullpage/angular-fullpage/lib/fullpage.directive.ts","ng://@fullpage/angular-fullpage/lib/angular-fullpage.module.ts"],"names":["fullpage","FullpageDirective","platformId","renderer","this","ref","EventEmitter","isPlatformBrowser","require","prototype","ngOnInit","initFullpage","isPlatformServer","fullpage_api","id","options","addBuildFunction","emit","_this","build","activeSection","getActiveSection","activeSlide","getActiveSlide","destroyFullpage","addClass","item","destroy","ngOnDestroy","Directive","args","selector","Object","decorators","type","Inject","PLATFORM_ID","Renderer2","Input","Output","AnchorLinkDirective","onClick","event","href","length","preventDefault","window","location","hash","HostListener","AngularFullpageModule","NgModule","imports","declarations","exports"],"mappings":"4XAGIA,EAAgB,KAGpBC,EAAA,WAUE,SAAAA,EAC+BC,EACrBC,GADqBC,KAAAF,WAAAA,EACrBE,KAAAD,SAAAA,EALAC,KAAAC,IAAM,IAAIC,EAAAA,aAObN,GACGO,EAAAA,kBAAkBL,KACpBF,EAAWQ,QAAQ,6CAiD7B,OA5CEP,EAAAQ,UAAAC,SAAA,WACMH,EAAAA,kBAAkBH,KAAKF,aACzBE,KAAKO,eAEHC,EAAAA,iBAAiBR,KAAKF,aAK5BD,EAAAQ,UAAAE,aAAA,WACEP,KAAKS,aAAe,IAAIb,EAAS,IAAMI,KAAKU,GAAIV,KAAKW,SACrDX,KAAKY,mBACLZ,KAAKC,IAAIY,KAAKb,KAAKS,eAGrBZ,EAAAQ,UAAAO,iBAAA,WAAA,IAAAE,EAAAd,KACEA,KAAKS,aAAaM,MAAQ,eAClBC,EAAgBF,EAAKL,aAAaQ,mBAClCC,EAAcJ,EAAKL,aAAaU,iBAGtCL,EAAKM,kBAEDJ,GACFF,EAAKf,SAASsB,SAASL,EAAcM,KAAM,UAGzCJ,GACFJ,EAAKf,SAASsB,SAASH,EAAYI,KAAM,UAG3CR,EAAKP,iBAITV,EAAAQ,UAAAe,gBAAA,WACmC,oBAAtBpB,KAAKS,cAAqE,oBAA9BT,KAAKS,aAAac,SACvEvB,KAAKS,aAAac,QAAQ,QAI9B1B,EAAAQ,UAAAmB,YAAA,WACExB,KAAKoB,uCA/DRK,EAAAA,UAASC,KAAA,CAAC,CAETC,SAAU,0DASiCC,OAAMC,WAAA,CAAA,CAAAC,KAA9CC,EAAAA,OAAML,KAAA,CAACM,EAAAA,sBAjBwDC,EAAAA,yCAWjEC,EAAAA,uBACAA,EAAAA,mBACAC,EAAAA,UA0DHtC,EAjEA,gBAmEA,SAAAuC,KAaA,OANqCA,EAAA/B,UAAAgC,QAAnC,SAA2CC,GAClB,EAAnBtC,KAAKuC,KAAKC,QAA+B,MAAjBxC,KAAKuC,KAAK,KACpCD,EAAMG,iBACNC,OAAOC,SAASC,KAAO5C,KAAKuC,2BAVjCd,EAAAA,UAASC,KAAA,CAAC,CAETC,SAAW,2CAGVO,EAAAA,uBAEAW,EAAAA,aAAYnB,KAAA,CAAC,QAAS,CAAC,cAM1BU,KCtFAU,EAAA,WAGA,SAAAA,KAKqC,2BALpCC,EAAAA,SAAQrB,KAAA,CAAC,CACRsB,QAAS,GACTC,aAAc,CAACpD,EAAmBuC,GAClCc,QAAS,CAACrD,EAAmBuC,OAEMU,EARrC","sourcesContent":["import { Directive, Input, OnInit, OnDestroy, Output, EventEmitter, Renderer2, HostListener, PLATFORM_ID, Inject } from '@angular/core';\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\n\nlet fullpage: any = null;\ndeclare var require;\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[fullpage]'\n})\nexport class FullpageDirective implements OnInit, OnDestroy {\n  @Input() id;\n  @Input() options;\n  @Output() ref = new EventEmitter();\n  fullpage_api;\n\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: Object,\n    private renderer: Renderer2\n  ) {\n    if (!fullpage) {\n        if (isPlatformBrowser(platformId)) {\n          fullpage = require('fullpage.js/dist/fullpage.extensions.min');\n        }\n    }\n  }\n\n  ngOnInit() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.initFullpage();\n    }\n    if (isPlatformServer(this.platformId)) {\n      // server side code\n    }\n  }\n\n  initFullpage() {\n    this.fullpage_api = new fullpage('#' + this.id, this.options);\n    this.addBuildFunction();\n    this.ref.emit(this.fullpage_api);\n  }\n\n  addBuildFunction() {\n    this.fullpage_api.build = () => {\n      const activeSection = this.fullpage_api.getActiveSection();\n      const activeSlide = this.fullpage_api.getActiveSlide();\n\n      // bug destroy(all) also destroyed angular events such as (click)\n      this.destroyFullpage();\n\n      if (activeSection) {\n        this.renderer.addClass(activeSection.item, 'active');\n      }\n\n      if (activeSlide) {\n        this.renderer.addClass(activeSlide.item, 'active');\n      }\n\n      this.initFullpage();\n    };\n  }\n\n  destroyFullpage() {\n    if (typeof this.fullpage_api !== 'undefined' && typeof this.fullpage_api.destroy !== 'undefined') {\n      this.fullpage_api.destroy('all');\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroyFullpage();\n  }\n}\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector : '[href]'\n})\nexport class AnchorLinkDirective {\n  @Input() href: string;\n\n  @HostListener('click', ['$event']) onClick(event) {\n    if (this.href.length > 0 && this.href[0] === '#') {\n      event.preventDefault();\n      window.location.hash = this.href;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { FullpageDirective, AnchorLinkDirective } from './fullpage.directive';\n\n@NgModule({\n  imports: [],\n  declarations: [FullpageDirective, AnchorLinkDirective],\n  exports: [FullpageDirective, AnchorLinkDirective]\n})\nexport class AngularFullpageModule { }\n"]}